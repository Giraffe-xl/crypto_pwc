webpackJsonp([1],{0:function(e,t,a){a("j1ja"),e.exports=a("NHnr")},1:function(e,t){},"5IPn":function(e,t){},FerZ:function(e,t){},HiaQ:function(e,t){},LJ8l:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("Xcu2"),a("j1ja");var s=a("7+uW"),i=a("woOf"),l=a.n(i),n=a("mtWM"),r=a.n(n);r.a.defaults.baseURL="http://192.168.0.17:19892",r.a.defaults.timeout=2e4;var o=r.a,c=a("NYxO");s.default.use(c.a);var d=new c.a.Store({state:{globalName:""},mutations:{changeName:function(e,t){e.globalName=t}}}),u={store:d,readUserName:function(){return localStorage.getItem("globalName")},saveUserName:function(e){d.commit("changeName",e),localStorage.setItem("globalName",e)},deleteUserName:function(){d.commit("changeName",""),localStorage.removeItem("globalName")},readToken:function(){return localStorage.getItem("token")},saveToken:function(e){localStorage.setItem("token",e)},deleteToken:function(){localStorage.removeItem("token")}},m=a("/ocq"),g=a("8+8L"),p=a("mvHQ"),h=a.n(p),_={name:"user",data:function(){var e=this,t=function(e,t,a){if(""===(t=t.toLowerCase()))a(new Error("Email is required."));else{if(!/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(t))return a(new Error("Email address is invalid."));a()}};return{activeName:"first",loginWarningMessage:"",registerWarningMessage:"",disabled:!1,send_text:"",LoginForm:{password:"",account:""},registerForm:{password:"",checkPass:"",account:"",code:""},loginrules:{account:[{validator:t,trigger:"blur"}],password:[{validator:function(e,t,a){if(""===t)return a(new Error("Password is required."));a()},trigger:"blur"}]},rules:{password:[{validator:function(e,t,a){if(""===t)return a(new Error("Password is required."));/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[\w~@#$%^&*+=`|{}:;!,.?\"\'\\\/()\[\]<>-]{8,120}$/.test(t)||a(new Error("Password is invalid.")),a()},trigger:"blur"}],checkPass:[{validator:function(t,a,s){""===a?s(new Error("Confirm password is required.")):a!==e.registerForm.password?s(new Error("Your password and confirm password do not match.")):s()},trigger:"blur"}],account:[{validator:t,trigger:"blur"}],code:[{validator:function(e,t,a){""===t?a(new Error("Check your email for the verification code. If it doesn't appear within a few minutes, check your spam folder, or re-click the 'Send' button.")):a()},trigger:"blur"}]}}},methods:{Login:function(e){var t=this,a=this;this.$refs[e].validate(function(e){t.LoginForm.account=t.LoginForm.account.toLowerCase(),e&&J.sendRequest("post","/cryptotool/user/login",h()({userName:a.LoginForm.account,password:a.LoginForm.password})).then(function(e){e&&("0"===e.code?(a.$message.success(e.msg),u.saveUserName(a.LoginForm.account),u.saveToken(e.data.token),a.$router.push({name:"home"})):(a.loginWarningMessage="login failed",a.LoginForm.password=""))})})},getCode:function(){this.send_text="",this.registerWarningMessage="";var e=this;e.registerWarningMessage="",""===e.registerForm.account?e.registerWarningMessage="email is required first.":(e.disabled=!0,e.send_text="Sending...",J.sendRequest("post","/cryptotool/user/code/send",h()({userName:e.registerForm.account,codeType:"register"})).then(function(t){t?"10010"===t.code?(e.registerWarningMessage=t.msg,e.disabled=!1,e.send_text=""):"0"===t.code?(e.send_text="Sent successfully",e.disabled=!1):(e.$message.warning(t.msg),e.disabled=!1,e.send_text=""):(e.disabled=!1,e.send_text="")}))},register:function(e){var t=this;this.registerWarningMessage="";var a=this;this.$refs[e].validate(function(e){if(t.registerForm.account=t.registerForm.account.toLowerCase(),!e)return!1;a.registerWarningMessage="",J.sendRequest("post","/cryptotool/user/register",h()({userName:a.registerForm.account,password:a.registerForm.password,code:a.registerForm.code})).then(function(e){if(e)if("0"===e.code)setTimeout(function(){a.$message.success(e.msg)},2e3),a.$router.push({name:"user"}),location.reload();else if("10015"===e.code)return a.registerWarningMessage="The verification code is incorrect",!1})})},handleClick:function(e,t){this.resetForm("registerForm"),this.resetForm("LoginForm"),this.loginWarningMessage="",this.registerWarningMessage=""},resetForm:function(e){this.$refs[e].resetFields(),this.disabled=!1,this.registerForm.password="",this.send_text="",this.registerWarningMessage=""}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"Login_Register_tab"},[a("el-tabs",{attrs:{stretch:!0},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Login",name:"first"}},[a("div",[a("br"),e._v(" "),a("el-form",{ref:"LoginForm",attrs:{model:e.LoginForm,"label-position":"top","status-icon":"",rules:e.loginrules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"Your Email Address",prop:"account"}},[a("el-input",{attrs:{placeholder:"User ID"},model:{value:e.LoginForm.account,callback:function(t){e.$set(e.LoginForm,"account",t)},expression:"LoginForm.account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Password",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"Password",autocomplete:"off"},model:{value:e.LoginForm.password,callback:function(t){e.$set(e.LoginForm,"password",t)},expression:"LoginForm.password"}})],1),e._v(" "),a("div",{staticClass:"forgetPwd_link"},[a("router-link",{staticClass:"nav_link",attrs:{to:"/cryptoaudit/forgot_password"}},[e._v("Reset/Forgot Password")])],1),e._v(" "),a("div",{staticClass:"warning_message"},[e._v(e._s(this.loginWarningMessage))]),e._v(" "),a("div",{staticClass:"login_submit"},[a("el-form-item",[a("el-button",{staticStyle:{color:"rgb(254,250,245)"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.Login("LoginForm")}}},[e._v("Log In")])],1)],1)],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"Register",name:"second"}},[a("div",[a("br"),e._v(" "),a("el-form",{ref:"registerForm",attrs:{model:e.registerForm,"label-position":"top",rules:e.rules}},[a("el-form-item",{attrs:{label:"User Email",prop:"account"}},[a("el-input",{model:{value:e.registerForm.account,callback:function(t){e.$set(e.registerForm,"account",t)},expression:"registerForm.account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Password",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),e._v(" "),a("div",{staticStyle:{}},[e._v("Your password must contain a minimum of 8 characters. It must contain the following: an uppercase letter, a lowercase letter, a number.")])],1),e._v(" "),a("el-form-item",{attrs:{label:"Confirm Password",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.registerForm.checkPass,callback:function(t){e.$set(e.registerForm,"checkPass",t)},expression:"registerForm.checkPass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Verification Code",prop:"code",id:"register_code"}},[a("el-input",{staticStyle:{"margin-bottom":"5px"},attrs:{autocomplete:"off",placeholder:'Click the "Send" button to get the verification code in your email.'},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}},[e._v(">")]),e._v(" "),a("el-button",{attrs:{size:"mini",disabled:e.disabled},on:{click:e.getCode}},[e._v("Send")]),e._v(" "),a("span",{staticClass:"code_msg"},[e._v(e._s(e.send_text))])],1),e._v(" "),a("div",{staticClass:"warning_message"},[e._v(e._s(e.registerWarningMessage))]),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"text_color",staticStyle:{color:"rgb(254,250,245)"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.register("registerForm")}}},[e._v("Register")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.resetForm("registerForm")}}},[e._v("Reset")])],1)],1)],1)])],1)],1)])},staticRenderFns:[]};var f=a("VU/8")(_,v,!1,function(e){a("LJ8l")},null,null).exports,b={name:"forgot_password",data:function(){var e=this;return{forget_data:{account:"",password:"",checkPass:"",code:""},forget_rules:{account:[{validator:function(t,a,s){if(!a)return s(new Error("Email is required."));a=a.toLowerCase();var i=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;setTimeout(function(){i.test(a)?s():(s(new Error("Email address is invalid.")),e.send_text="")},200)},trigger:"blur"}],password:[{validator:function(t,a,s){if(""===a)return s(new Error("Password is required."));/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[\w~@#$%^&*+=`|{}:;!,.?\"\'\\\/()\[\]<>-]{8,120}$/.test(e.forget_data.password)||s(new Error("Password is invalid.")),s()},trigger:"blur"}],checkPass:[{validator:function(t,a,s){""===a?s(new Error("Confirm password is required.")):a!==e.forget_data.password?s(new Error("Your password and confirmation password do not match.")):s()},trigger:"blur"}],code:[{validator:function(e,t,a){""===t?a(new Error("Check your email for the verification code. If it doesn't appear within a few minutes, check your spam folder, or re-click the 'Send' button.")):a()},trigger:"blur"}]},warningMessage:"",disabled:!1,send_text:""}},methods:{getCode:function(){this.send_text="";var e=this;e.warningMessage="",""===e.forget_data.account?e.warningMessage="Please enter your email":(e.disabled=!0,e.send_text="sending...",J.sendRequest("post","/cryptotool/user/code/send",h()({userName:e.forget_data.account,codeType:"resetPassword"})).then(function(t){t?"10010"===t.code?(e.warningMessage=t.msg,e.disabled=!1,e.send_text=""):"0"===t.code?(e.send_text="Sent successfully",e.disabled=!1):(e.$message.warning(t.msg),e.disabled=!1,e.send_text=""):(e.disabled=!1,e.send_text="")}))},submitNewPassword:function(e){this.warningMessage="";var t=this;t.$refs[e].validate(function(e){if(!e)return!1;t.forget_data.account=t.forget_data.account.toLowerCase(),t.warningMessage="",J.sendRequest("post","/cryptotool/user/verify",h()({username:t.forget_data.account})).then(function(e){e&&("0"===e.code?t.forgetPassword():t.warningMessage=e.msg)})})},forgetPassword:function(){var e=this;J.sendRequest("post","/cryptotool/user/password/forget",h()({userName:e.forget_data.account,password:e.forget_data.password,code:e.forget_data.code})).then(function(t){if(t){if("10015"===t.code)return e.warningMessage="Incorrect code, please check it",!1;"0"===t.code?(e.$message.success(t.msg),e.$router.push({name:"user"})):e.$message.warning(t.msg)}})},returnLogin:function(){this.$router.push({name:"user"})}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"forget_password"},[a("div",{staticClass:"forget_header"},[e._v("Forgot Password")]),e._v(" "),a("br"),e._v(" "),a("el-form",{ref:"forget_data",attrs:{model:e.forget_data,"status-icon":"",rules:e.forget_rules}},[a("el-form-item",{attrs:{label:"Your Email Address",prop:"account"}},[a("el-input",{model:{value:e.forget_data.account,callback:function(t){e.$set(e.forget_data,"account",t)},expression:"forget_data.account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"New Password:",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.forget_data.password,callback:function(t){e.$set(e.forget_data,"password",t)},expression:"forget_data.password"}}),e._v(" "),a("div",{staticStyle:{}},[e._v("Your password must contain a minimum of 8 characters. It must contain the following: an uppercase letter, a lowercase letter, a number.")])],1),e._v(" "),a("el-form-item",{attrs:{label:"Confirm Password:",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.forget_data.checkPass,callback:function(t){e.$set(e.forget_data,"checkPass",t)},expression:"forget_data.checkPass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Verification Code:",prop:"code"}},[a("el-input",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"code",autocomplete:"off",placeholder:'Click the "Send" button to get the verification code in your email.'},model:{value:e.forget_data.code,callback:function(t){e.$set(e.forget_data,"code",t)},expression:"forget_data.code"}}),e._v(" "),a("el-button",{staticClass:"btn-color",attrs:{size:"mini",disabled:e.disabled,id:"getCode"},on:{click:e.getCode}},[e._v("Send")]),e._v(" "),a("span",{staticClass:"code_msg"},[e._v(e._s(e.send_text))])],1),e._v(" "),a("div",{staticClass:"warning_message"},[e._v(e._s(e.warningMessage))]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",id:"submit-btn"},on:{click:function(t){e.submitNewPassword("forget_data")}}},[e._v("Submit")]),e._v(" "),a("el-button",{staticClass:"btn-color",attrs:{size:"small"},on:{click:function(t){e.returnLogin()}}},[e._v("Return")])],1)],1)],1)])},staticRenderFns:[]};var w=a("VU/8")(b,D,!1,function(e){a("HiaQ")},null,null).exports,C={name:"home",data:function(){return{activeIndex:"0",lTime:(new Date).getTime(),ctTime:(new Date).getTime(),tOut:288e5,myVar:null}},watch:{$route:function(e,t){"/cryptoaudit/home/introduction"===e.path&&(this.activeIndex="0"),"/cryptoaudit/home/clientlist"===e.path&&(this.activeIndex="1"),"/cryptoaudit/home/address/manage"===e.path&&(this.activeIndex="2"),"/cryptoaudit/home/address/validate"===e.path&&(this.activeIndex="3")}},mounted:function(){if(null===u.readToken())return null!==u.readUserName()&&u.deleteUserName(),void this.$router.push({name:"user"});""===u.readUserName()&&this.getUserName(),this.myVar=window.setInterval(this.tTime,1e3)},methods:{getUserName:function(){apiRequest.sendRequest("get","/cryptotool/user/current/get").then(function(e){e&&"0"===e.code&&u.saveUserName(e.data.userName)})},handleSelect:function(e,t){"1"===e&&this.$router.push({name:"clientlist"}),"2"===e&&this.$router.push({name:"manageaddress"}),"3"===e&&this.$router.push({name:"validateaddress"})},tTime:function(){this.ctTime=(new Date).getTime(),this.ctTime-this.lTime>this.tOut&&(this.$router.push({name:"user"}),window.clearInterval(this.myVar))},clicked:function(){this.lTime=(new Date).getTime()}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"business"},on:{click:e.clicked}},[a("div",{staticClass:"nav_head"},[a("div",{staticClass:"head_ul"},[a("el-menu",{attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#a32020","text-color":"rgb(254, 250, 245)",id:"header"},on:{select:e.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[e._v("Client Management")]),e._v(" "),a("el-menu-item",{attrs:{index:"2"}},[e._v("Address Management")]),e._v(" "),a("el-menu-item",{attrs:{index:"3"}},[e._v("Address Validation")])],1)],1)]),e._v(" "),a("router-view")],1)},staticRenderFns:[]};var T=a("VU/8")(C,y,!1,function(e){a("d70Z")},null,null).exports,N={name:"introduction",data:function(){return{tableData:[{Currency:"BTC",Wallet:"Bitcoin-cli, Bitpie, Bither, Coinomi, Electrum"},{Currency:"LTC",Wallet:"Bitpie, Electrum-LTC"},{Currency:"BCH",Wallet:"Bitpie, Electron Cash"},{Currency:"ETH",Wallet:"Bitpie, Coinomi"}]}},mounted:function(){if(""===u.readToken()&&this.getUserName(),""===u.readUserName())return u.deleteUserName(),u.deleteToken(),void this.$router.push({name:"user"});window.setInterval(this.tTime,1e3)},methods:{goto_clientManagement:function(){this.$router.push({name:"clientlist"})},goto_addressManagement:function(){this.$router.push({name:"manageaddress"})},goto_addressValidation:function(){this.$router.push({name:"validateaddress"})}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"introduction_content"}},[a("h2",[e._v("Instructions")]),e._v(" "),a("p",[e._v("PwC Crypto Audit Tool is a system to verify the digital wallets for clients, which can be operated by the following instructions.")]),e._v(" "),a("div",[a("b",[e._v("1. Register the client on "),a("u",{on:{click:e.goto_clientManagement}},[e._v("Client Management")]),e._v(".")])]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),a("div",[a("b",[e._v("2. Add wallet addresses for the registered client on "),a("u",{on:{click:e.goto_addressManagement}},[e._v("Address Management")]),e._v(".")])]),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),a("div",[a("b",[e._v("\n        3. Verify added wallet address for the registered client on\n        "),a("u",{on:{click:e.goto_addressValidation}},[e._v("Address Validation")]),e._v(".\n      ")])]),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),e._m(14),e._v(" "),e._m(15),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),e._m(18),e._v(" "),e._m(19),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",[e._v("In the above step 3.3.3, auditors can direct clients to sign messages by the following instructions.")]),e._v(" "),e._m(22),e._v(" "),e._m(23),e._v(" "),e._m(24),e._v(" "),a("div",{staticStyle:{width:"inherit",margin:"0 auto"}},[a("br"),e._v(" "),a("el-table",{staticStyle:{width:"100%",color:"rgb(64, 64, 65)"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"Currency",label:"Currency"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Wallet",label:"Wallet Applications"}})],1),e._v(" "),a("br")],1),e._v(" "),e._m(25)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v('1.1 Click "Create Client" at the top right of the list, input all required information in the popup page and click "Create" at the end.')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v("1.2 If the client is registered successfully, it will be listed on the page.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v("1.3 The information of every successfully registered client can be updated later by clicking the rightmost button on the row.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v('2.1 Select the client by its name in "Client Name" above the list.')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v('2.2 Either, click "Add Address" at the bottom left of the list, input all required information of the wallet address and click "Add" at the end. Repeat this step to add multiple addresses.')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v('2.3 Or, click "Import Address" at the bottom of the list to upload a file containing one or more wallet addresses. A template file can be downloaded via "Download the Excel template" next to "Import Address".')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v("2.4 All successfully added wallet addresses will be listed on the page.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v('3.1 Select the client by its name in "Client Name" above the list. All wallet addresses added for that client are then listed on that page.')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v("3.2 Generate unsigned messages for wallets.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_bg"},[t("span",[this._v('3.2.1 Select all wallets without messages by clicking the checkbox "Address No message".')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_bg"},[t("span",[this._v('3.2.2 Click "Generate Message" below the list to generate messages for all selected addresses.')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v("3.3 Sign messages.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_bg"},[t("span",[this._v('3.3.1 Select all wallets with unsigned messages by clicking the checkbox "Address Not Signed".')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_bg"},[t("span",[this._v('3.3.2 Click "Download Message" below the list to download an Excel file containing above generated messages of all selected addresses.')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_bg"},[t("span",[this._v("3.3.3 Ask the client to fill the signed messages in the Excel file.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_bg"},[t("span",[this._v('3.3.4 Upload the Excel file with signed messages by clicking "Upload Signed Message".')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v("3.4 Validate wallets.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_bg"},[t("span",[this._v('3.4.1 Select all non-validated wallets with signed messages by clicking the checkbox "Address Not Validated".')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_bg"},[t("span",[this._v('3.4.2 Click "Verify Key Pair" below the list to validate all selected wallets. The validation result of each wallet will be listed in the "Status" column of the list.')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v("3.5 Get the report.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_bg"},[t("span",[this._v('3.5.1 Select all validated wallets by clicking the checkbox "Address Validated".')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_bg"},[t("span",[this._v('3.5.2 Click "Download Report" below the list to download the report.')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v("1. Ask the client to sign messages in a wallet application that supports the digital signature.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_bg"},[t("span",[this._v("1.1 If the wallet application used by the client does not support the digital signature, the client must first import his/her private key to a supporting application and sign messages from the new application.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_bg"},[t("span",[this._v("1.2 Some popular wallet applications that support digital signatures are listed below.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"introduce_list"},[t("span",[this._v('2. Ask the client to fill signed messages in the "Signed-Message" column of the Excel file, and return the updated file to the auditor.')])])}]};var k=a("VU/8")(N,M,!1,function(e){a("ZyFl")},null,null).exports,U=a("pFYg"),x=a.n(U),A={name:"client_list",data:function(){return{show:!1,clientData:[],tableData:[],deleteDialogVisible:!1,clientSearch_name:"",client_name:"",clientList:[],currenttableData:[],currentPage:1,pagesize:10,total:0,criteria:"",record_data:[]}},mounted:function(){if(""===u.readToken()&&this.getUserName(),""===u.readUserName())return u.deleteUserName(),u.deleteToken(),void this.$router.push({name:"user"});this.clientView(),this.clientLogView()},methods:{getUserName:function(){J.sendRequest("get","/cryptotool/user/current/get").then(function(e){e&&"0"===e.code&&u.saveUserName(e.data.userName)})},clientView:function(){var e=this;J.sendRequest("post","/cryptotool/user/clients/owner/view").then(function(t){if(t)if("0"===t.code){e.clientData=t.data.clientList,e.tableData=e.clientData,e.total=e.tableData.length,e.currentPage=1,e.loadData(e.criteria,e.currentPage,e.pagesize);for(var a=0;a<e.tableData.length;a++)e.clientList.push({value:e.clientData[a].clientName})}else e.$message.warning(t.msg)})},client_create:function(){this.$router.push({name:"createclient"})},isDelete:function(e,t){this.client_name=t.clientName,this.deleteDialogVisible=!0},deleteClient:function(){var e=this;e.deleteDialogVisible=!1,J.sendRequest("post","/cryptotool/client/delete",h()({clientName:e.client_name})).then(function(t){t&&("0"===t.code?(e.$message.success(t.msg),e.clientView(),e.clientLogView()):e.$message.warning(t.msg))})},querySearch:function(e,t){var a=this.clientList;t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return t.value.indexOf(e)>=0}},client_edit:function(e,t){this.$router.push({name:"editclient",params:{clientName:t.clientName}})},searchClient:function(){if(""===this.clientSearch_name)return this.tableData=this.clientData,this.total=this.tableData.length,this.currentPage=1,void this.loadData(this.criteria,this.currentPage,this.pagesize);var e=[];this.clientSearch_name=this.clientSearch_name.replace(/[\\]/g,"\\"),console.log(this.clientSearch_name),console.log(x()(this.clientSearch_name));for(var t=0;t<this.clientData.length;t++)this.clientData[t].clientName.indexOf(this.clientSearch_name)>=0&&e.push(this.clientData[t]);console.log(e),this.tableData=e,this.total=this.tableData.length,this.currentPage=1,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},loadData:function(e,t,a){var s=(t-1)*this.pagesize;this.currenttableData=this.tableData.slice(s,s+a)},clientLogView:function(){var e=this;J.sendRequest("get","/cryptotool/log/client/view").then(function(t){if(t)if("0"===t.code){e.record_data=t.data.loglist;for(var a=0;a<e.record_data.length;a++){var s=e.record_data[a].date.slice(0,4),i=e.record_data[a].date.slice(4,6),l=e.record_data[a].date.slice(6,8),n=e.record_data[a].date.slice(8,10),r=e.record_data[a].date.slice(10,12),o=e.record_data[a].date.slice(12,14);e.record_data[a].date=s+"-"+i+"-"+l+" "+n+":"+r+":"+o}}else e.$message.warning(t.msg)})}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clientlist_content"},[a("div",{staticClass:"list_content"},[a("div",{staticClass:"top_button"},[a("div",{staticClass:"search_client_content"},[a("span",[e._v("Client Name:")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",attrs:{id:"list_font","fetch-suggestions":e.querySearch,placeholder:"Please enter client"},model:{value:e.clientSearch_name,callback:function(t){e.clientSearch_name=t},expression:"clientSearch_name"}}),e._v(" "),a("el-button",{staticStyle:{color:"rgb(254, 250, 245)"},attrs:{type:"primary",title:"Create a New Client",icon:"el-icon-search",size:"small"},on:{click:e.searchClient}},[e._v("Search")])],1),e._v(" "),a("div",{staticClass:"create_client_content"},[a("el-button",{staticStyle:{color:"rgb(254, 250, 245)"},attrs:{type:"primary",size:"small",icon:"el-icon-circle-plus-outline"},on:{click:e.client_create}},[e._v("Create Client")])],1)])]),e._v(" "),a("div",{staticClass:"table_sort"},[a("el-table",{staticStyle:{width:"100%",color:"rgb(64, 64, 65)"},attrs:{data:e.currenttableData,"default-sort":{prop:"createDate",order:"descending"}}},[a("el-table-column",{attrs:{prop:"clientName",label:"Client Name",align:"center",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_title",label:"Project Name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"Description",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"Operations",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-edit"},on:{click:function(a){e.client_edit(t.$index,t.row)}}})]}}])})],1)],1),e._v(" "),a("div",{staticClass:"page_content"},[a("el-pagination",{staticStyle:{color:"rgb(64, 64, 65)"},attrs:{"current-page":e.currentPage,"page-size":e.pagesize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),null!=e.record_data?a("div",{staticClass:"client_log_content"},[a("hr"),e._v(" "),a("h2",[e._v("Operation Log")]),e._v(" "),a("el-table",{staticStyle:{width:"100%",color:"rgb(64, 64, 65)"},attrs:{data:e.record_data,"default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{key:"1",attrs:{prop:"date",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operator",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"detail",width:"800"}})],1)],1):e._e()])},staticRenderFns:[]};var S=a("VU/8")(A,j,!1,function(e){a("FerZ")},null,null).exports,L={data:function(){return{labelPosition:"right",formLabelAlign:{name:"",region:""},clientData:{clientName:"",projectTitle:"",description:"",timeZone:"",date:[],tableData:[]},timezone_options:[{value:"UTC-12",label:"UTC-12（IDL）"},{value:"UTC-11",label:"UTC-11（MIT）"},{value:"UTC-10",label:"UTC-10（HST）"},{value:"UTC-9:30",label:"UTC-9:30（MSIT）"},{value:"UTC-9",label:"UTC-9（AKST）"},{value:"UTC-8",label:"UTC-8（PST）"},{value:"UTC-7",label:"UTC-7（MST）"},{value:"UTC-6",label:"UTC-6（CST）"},{value:"UTC-5",label:"UTC-5（EST）"},{value:"UTC-4",label:"UTC-4（AST）"},{value:"UTC-3:30",label:"UTC-3:30（NST）"},{value:"UTC-3",label:"UTC-3（SAT）"},{value:"UTC-2",label:"UTC-2（BRT）"},{value:"UTC-1",label:"UTC-1（CVT）"},{value:"UTC",label:"UTC（WET，GMT）"},{value:"UTC+1",label:"UTC+1（CET）"},{value:"UTC+2",label:"UTC+2（EET）"},{value:"UTC+3",label:"UTC+3（MSK）"},{value:"UTC+3:30",label:"UTC+3:30（IRT）"},{value:"UTC+4",label:"UTC+4（META）"},{value:"UTC+4:30",label:"UTC+4:30（AFT）"},{value:"UTC+5",label:"UTC+5（METB）"},{value:"UTC+5:30",label:"UTC+5:30（IDT）"},{value:"UTC+5:45",label:"UTC+5:45（NPT）"},{value:"UTC+6",label:"UTC+6（BHT）"},{value:"UTC+6:30",label:"UTC+6:30（MRT）"},{value:"UTC+7",label:"UTC+7（IST）"},{value:"UTC+8",label:"UTC+8（EAT/BJT）"},{value:"UTC+9",label:"UTC+9（FET）"},{value:"UTC+9:30",label:"UTC+9:30（ACST）"},{value:"UTC+10",label:"UTC+10（AEST）"},{value:"UTC+10:30",label:"UTC+10:30（FAST）"},{value:"UTC+11",label:"UTC+11（VTT）"},{value:"UTC+11:30",label:"UTC+11:30（NFT）"},{value:"UTC+12",label:"UTC+12（PSTB）"},{value:"UTC+12:45",label:"UTC+12:45（CIT）"},{value:"UTC+13",label:"UTC+13（PSTC）"},{value:"UTC+14",label:"UTC+14（PSTD）"}],user_options:[{value:"0",label:"owner",display_data:"Owner"},{value:"1",label:"teamMember",display_data:"Team Member"}],addDeleteDialogVisible:!1,addDialogVisible:!1,user_index:"",user_username:"",addUserData:{userName:"",level:"owner"},user_message:"",prop_message:"",rules:{clientName:[{validator:function(e,t,a){""===t?a(new Error("Client name is required")):a()},trigger:"blur"}],projectTitle:[{validator:function(e,t,a){""===t?a(new Error("Project name is required")):a()},trigger:"blur"}],timeZone:[{validator:function(e,t,a){""===t?a(new Error("Time zone is required")):a()},trigger:"blur"}],date:[{validator:function(e,t,a){""==t?a(new Error("Date is required")):t[0]>t[1]?a(new Error("Start time cannot be greater than end time")):a()},trigger:"blur"}]},info_msg:"",infoDialogVisible:!0,data_client:[]}},mounted:function(){""===u.readToken()&&this.getUserName();var e=u.readUserName();if(""===e)return u.deleteUserName(),u.deleteToken(),void this.$router.push({name:"user"});this.clientData.tableData=[{level:"owner",userName:e}],this.$refs.CreateClientForm.resetFields(),this.prop_message=""},methods:{getUserName:function(){J.sendRequest("get","/cryptotool/user/current/get").then(function(e){e&&"0"===e.code&&u.saveUserName(e.data.userName)})},isDelete:function(e,t){this.user_username=t.userName,this.addDeleteDialogVisible=!0},deleteUser:function(e,t){t.splice(e,1),this.addDeleteDialogVisible=!1},addUser:function(){var e=this;if(e.user_message="",""!=e.addUserData.userName&&""!=e.addUserData.level){/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(e.addUserData.userName)?J.sendRequest("post","/cryptotool/user/verify",h()({username:e.addUserData.userName})).then(function(t){if(t){if("0"===t.code){for(var a=0;a<e.clientData.tableData.length;a++)if(e.addUserData.userName===e.clientData.tableData[a].userName)return void(e.user_message="user has existed");return 0==e.clientData.tableData.length?e.clientData.tableData=[{level:e.addUserData.level,userName:e.addUserData.userName}]:e.clientData.tableData.push({level:e.addUserData.level,userName:e.addUserData.userName}),e.user_message="",e.addDialogVisible=!1,e.addUserData.userName="",void(e.addUserData.level="owner")}return"10013"===t.code?void(e.user_message="user is not registered"):void(e.user_message=t.msg)}}):e.user_message="email address is invalid"}else e.user_message="the data cannot be empty"},handleClose:function(){this.user_message="",this.addDialogVisible=!1,this.addUserData.userName="",this.addUserData.level="owner"},Save_Client:function(e){var t=this;this.data_client=[],this.$refs[e].validate(function(e){var a=t;if(e){for(var s=!1,i=0;i<a.clientData.tableData.length;i++)if("owner"===a.clientData.tableData[i].level){s=!0;break}if(!s)return void(a.prop_message="no owner level user in access list.");J.sendRequest("post","/cryptotool/client/withproject/create",h()({clientName:a.clientData.clientName,description:a.clientData.description,projectTitle:a.clientData.projectTitle,timeZone:a.clientData.timeZone,startDate:a.clientData.date[0],endDate:a.clientData.date[1],accessList:a.clientData.tableData})).then(function(e){if(e)if("0"===e.code)a.$message.success(e.msg),a.$router.push({name:"clientlist"});else if("20001"===e.code){a.info_msg=e.code,a.infoDialogVisible=!0,a.arr=e.data.ownerlist;for(var t=0;t<a.arr.length;t++)a.data_client.push(a.arr[t])}else a.$message.warning(e.msg)})}})},info_cancel:function(){this.infoDialogVisible=!1,this.data_client=[],this.info_msg=[]},returnHome:function(){this.$router.push({name:"clientlist"})}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"createclient_content"},[a("div",{staticClass:"createclient_header"},[e._v("Create Client")]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"createclient_form"},[a("el-form",{ref:"CreateClientForm",attrs:{model:e.clientData,rules:e.rules}},[a("el-form-item",{attrs:{label:"Client Name",prop:"clientName"}},[a("el-input",{attrs:{placeholder:"Client Name"},model:{value:e.clientData.clientName,callback:function(t){e.$set(e.clientData,"clientName",t)},expression:"clientData.clientName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Project Name",prop:"projectTitle"}},[a("el-input",{attrs:{placeholder:"Project Name"},model:{value:e.clientData.projectTitle,callback:function(t){e.$set(e.clientData,"projectTitle",t)},expression:"clientData.projectTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Description",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"Description"},model:{value:e.clientData.description,callback:function(t){e.$set(e.clientData,"description",t)},expression:"clientData.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Time Zone",prop:"timeZone"}},[a("el-select",{attrs:{placeholder:"Time Zone"},model:{value:e.clientData.timeZone,callback:function(t){e.$set(e.clientData,"timeZone",t)},expression:"clientData.timeZone"}},e._l(e.timezone_options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Audit Period",prop:"date"}},[a("el-date-picker",{attrs:{"value-format":"yyyyMMddHHmmss",type:"datetime",placeholder:"start time","default-time":"00:00:00"},model:{value:e.clientData.date[0],callback:function(t){e.$set(e.clientData.date,0,t)},expression:"clientData.date[0]"}}),e._v(" "),a("span",{staticClass:"date_span"},[e._v("to")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyyMMddHHmmss",type:"datetime",placeholder:"end time","default-time":"23:59:59"},model:{value:e.clientData.date[1],callback:function(t){e.$set(e.clientData.date,1,t)},expression:"clientData.date[1]"}})],1),e._v(" "),a("hr"),e._v(" "),a("h3",[e._v("Users List")]),e._v(" "),a("el-table",{staticStyle:{color:"rgb(64, 64, 65)"},attrs:{data:e.clientData.tableData}},[a("el-table-column",{attrs:{prop:"userName",label:"Email",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"Level of Access",prop:"level",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:e.clientData.tableData[t.$index].level,callback:function(a){e.$set(e.clientData.tableData[t.$index],"level",a)},expression:"clientData.tableData[scope.$index].level"}},[a("el-option",{attrs:{label:"Owner",value:"owner"}}),e._v(" "),a("el-option",{attrs:{label:"Team Member",value:"teamMember"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Operation",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(a){e.isDelete(t.$index,t.row)}}}),e._v(" "),a("el-dialog",{attrs:{title:"Delete User",visible:e.addDeleteDialogVisible,"append-to-body":!0,width:"30%"},on:{"update:visible":function(t){e.addDeleteDialogVisible=t}}},[a("span",[e._v("Are you sure to")]),e._v(" "),a("span",[e._v("delete\n                "),a("span",[e._v(e._s(e.user_username))]),e._v(" ？\n              ")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"consist_black",on:{click:function(t){e.addDeleteDialogVisible=!1}}},[e._v("Cancel")]),e._v(" "),a("el-button",{staticClass:"consist_white",attrs:{type:"primary"},on:{click:function(a){e.deleteUser(t.$index,e.clientData.tableData)}}},[e._v("Delete")])],1)])]}}])})],1),e._v(" "),a("div",[a("el-button",{staticClass:"user_addBtn",attrs:{type:"primary",size:"mini"},on:{click:function(t){e.addDialogVisible=!0}}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-dialog",{attrs:{title:"Add A New user",visible:e.addDialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{staticClass:"clientAdd_color",attrs:{model:e.addUserData}},[a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addUserData.userName,callback:function(t){e.$set(e.addUserData,"userName",t)},expression:"addUserData.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Level of Access"}},[a("el-select",{model:{value:e.addUserData.level,callback:function(t){e.$set(e.addUserData,"level",t)},expression:"addUserData.level"}},[a("el-option",{attrs:{label:"Owner",value:"owner"}}),e._v(" "),a("el-option",{attrs:{label:"Team Member",value:"teamMember"}})],1)],1),e._v(" "),a("div",{staticClass:"warning_message"},[e._v(e._s(e.user_message))]),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticClass:"consist_black",attrs:{size:"mini"},on:{click:function(t){e.handleClose()}}},[e._v("Cancel")]),e._v(" "),a("el-button",{staticClass:"consist_white",attrs:{size:"mini",type:"primary"},on:{click:function(t){e.addUser()}}},[e._v("Add")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"warning_message"},[e._v(e._s(e.prop_message))]),e._v(" "),a("div",{staticClass:"create_btn"},[a("el-form-item",[a("el-button",{staticClass:"consist_white",attrs:{type:"primary",size:"small"},on:{click:function(t){e.Save_Client("CreateClientForm")}}},[e._v("Create")]),e._v(" "),a("el-button",{staticClass:"consist_black",attrs:{size:"small"},on:{click:function(t){e.returnHome()}}},[e._v("Return")])],1)],1),e._v(" "),"20001"===e.info_msg?a("div",{staticClass:"client_diakog"},[a("el-dialog",{attrs:{visible:e.infoDialogVisible},on:{"update:visible":function(t){e.infoDialogVisible=t}}},[a("span",[e._v("The client exists, please contact with the owner of the client.")]),e._v(" "),a("br"),e._v(" "),a("span",[e._v("A list of individuals with Owner accsess to this Client."+e._s(e.data_client))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.info_cancel()}}},[e._v("Ok")])],1)])],1):e._e()],1)],1)])},staticRenderFns:[]};var I=a("VU/8")(L,$,!1,function(e){a("jXWE")},null,null).exports,z={data:function(){return{ClientName:"",clientData:{clientName:"",projectTitle:"",description:"",timeZone:"",date:[],accessList:[]},timezone_options:[{value:"UTC-12",label:"UTC-12（IDL）"},{value:"UTC-11",label:"UTC-11（MIT）"},{value:"UTC-10",label:"UTC-10（HST）"},{value:"UTC-9:30",label:"UTC-9:30（MSIT）"},{value:"UTC-9",label:"UTC-9（AKST）"},{value:"UTC-8",label:"UTC-8（PST）"},{value:"UTC-7",label:"UTC-7（MST）"},{value:"UTC-6",label:"UTC-6（CST）"},{value:"UTC-5",label:"UTC-5（EST）"},{value:"UTC-4",label:"UTC-4（AST）"},{value:"UTC-3:30",label:"UTC-3:30（NST）"},{value:"UTC-3",label:"UTC-3（SAT）"},{value:"UTC-2",label:"UTC-2（BRT）"},{value:"UTC-1",label:"UTC-1（CVT）"},{value:"UTC",label:"UTC（WET，GMT）"},{value:"UTC+1",label:"UTC+1（CET）"},{value:"UTC+2",label:"UTC+2（EET）"},{value:"UTC+3",label:"UTC+3（MSK）"},{value:"UTC+3:30",label:"UTC+3:30（IRT）"},{value:"UTC+4",label:"UTC+4（META）"},{value:"UTC+4:30",label:"UTC+4:30（AFT）"},{value:"UTC+5",label:"UTC+5（METB）"},{value:"UTC+5:30",label:"UTC+5:30（IDT）"},{value:"UTC+5:45",label:"UTC+5:45（NPT）"},{value:"UTC+6",label:"UTC+6（BHT）"},{value:"UTC+6:30",label:"UTC+6:30（MRT）"},{value:"UTC+7",label:"UTC+7（IST）"},{value:"UTC+8",label:"UTC+8（EAT/BJT）"},{value:"UTC+9",label:"UTC+9（FET）"},{value:"UTC+9:30",label:"UTC+9:30（ACST）"},{value:"UTC+10",label:"UTC+10（AEST）"},{value:"UTC+10:30",label:"UTC+10:30（FAST）"},{value:"UTC+11",label:"UTC+11（VTT）"},{value:"UTC+11:30",label:"UTC+11:30（NFT）"},{value:"UTC+12",label:"UTC+12（PSTB）"},{value:"UTC+12:45",label:"UTC+12:45（CIT）"},{value:"UTC+13",label:"UTC+13（PSTC）"},{value:"UTC+14",label:"UTC+14（PSTD）"}],user_options:[{value:"0",label:"owner",display_data:"Owner"},{value:"1",label:"teamMember",display_data:"Team Member"}],editDeleteDialogVisible:!1,editDialogVisible:!1,user_index:"",user_username:"",addUserData:{userName:"",level:"owner"},user_message:"",prop_message:"",rules:{clientName:[{validator:function(e,t,a){""===t?a(new Error("Client name is required")):a()},trigger:"blur"}],projectTitle:[{validator:function(e,t,a){""===t?a(new Error("Project name is required")):a()},trigger:"blur"}],timeZone:[{validator:function(e,t,a){""===t?a(new Error("Time zone is required")):a()},trigger:"blur"}],date:[{validator:function(e,t,a){null==t[0]||null==t[1]?a(new Error("Date is required")):t[0]>t[1]?a(new Error("Start time cannot be greater than end time")):a()},trigger:"blur"}]}}},mounted:function(){if(""===u.readToken()&&this.getUserName(),""===u.readUserName())return u.deleteUserName(),u.deleteToken(),void this.$router.push({name:"user"});this.clientName=this.$route.params.clientName,this.ViewClient(this.clientName)},methods:{getUserName:function(){J.sendRequest("get","/cryptotool/user/current/get").then(function(e){e&&"0"===e.code&&u.saveUserName(e.data.userName)})},ViewClient:function(e){var t=this;J.sendRequest("post","/cryptotool/client/view",h()({clientName:e})).then(function(e){e&&("0"===e.code?(t.clientData.clientName=e.data.clientName,t.clientData.projectTitle=e.data.projectTitle,t.clientData.description=e.data.description,t.clientData.accessList=e.data.accessList,t.viewProject()):t.prop_message=e.msg)})},viewProject:function(){var e=this;J.sendRequest("post","/cryptotool/project/view",h()({clientName:e.$route.params.clientName,projectTitle:e.clientData.projectTitle})).then(function(t){if(t)if("0"===t.code){e.clientData.timeZone=t.data.timeZone;var a=[];a.push(t.data.startDate),a.push(t.data.endDate),e.clientData.date=a}else e.prop_message=t.msg})},isDelete:function(e,t){this.user_username=t.userName,this.editDeleteDialogVisible=!0},deleteUser:function(e,t){t.splice(e,1),this.editDeleteDialogVisible=!1},addUser:function(){var e=this;if(e.user_message="",""!=e.addUserData.userName&&""!=e.addUserData.level){/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(e.addUserData.userName)?J.sendRequest("post","/cryptotool/user/verify",h()({username:e.addUserData.userName})).then(function(t){if(t){if("0"===t.code){for(var a=0;a<e.clientData.accessList.length;a++)if(e.addUserData.userName===e.clientData.accessList[a].userName)return void(e.user_message="user has existed");return 0==e.clientData.accessList.length?e.clientData.accessList=[{level:e.addUserData.level,userName:e.addUserData.userName}]:e.clientData.accessList.push({level:e.addUserData.level,userName:e.addUserData.userName}),e.user_message="",e.editDialogVisible=!1,e.addUserData.userName="",void(e.addUserData.level="owner")}return"10013"===t.code?void(e.user_message="user is not registered"):void(e.user_message=t.msg)}}):e.user_message="email address is invalid"}else e.user_message="the data cannot be empty"},handleClose:function(){this.user_message="",this.editDialogVisible=!1,this.addUserData.userName="",this.addUserData.level="owner"},Edit_Client:function(e){var t=this;t.$refs[e].validate(function(e){if(e){for(var a=!1,s=0;s<t.clientData.accessList.length;s++)if("owner"===t.clientData.accessList[s].level){a=!0;break}if(!a)return void(t.prop_message="Must have an owner permission");var i="";t.clientName!=t.clientData.clientName&&(i=t.clientData.clientName),J.sendRequest("post","/cryptotool/client/withproject/edit",h()({clientName:t.clientName,newName:i,description:t.clientData.description,projectTitle:t.clientData.projectTitle,timeZone:t.clientData.timeZone,startDate:t.clientData.date[0],endDate:t.clientData.date[1],accessList:t.clientData.accessList})).then(function(e){e&&("0"===e.code?(t.$message.success(e.msg),t.$router.push({name:"clientlist"})):t.$message.warning(e.msg))})}})},returnHome:function(){this.$router.push({name:"clientlist"})}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"createclient_content"},[a("div",{staticClass:"createclient_header"},[e._v("Edit Client")]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"createclient_form"},[a("el-form",{ref:"EditClientForm",attrs:{model:e.clientData,rules:e.rules}},[a("el-form-item",{attrs:{label:"Client Name",prop:"clientName"}},[a("el-input",{attrs:{placeholder:"Client Name"},model:{value:e.clientData.clientName,callback:function(t){e.$set(e.clientData,"clientName",t)},expression:"clientData.clientName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Project Name",prop:"projectTitle"}},[a("el-input",{attrs:{placeholder:"Project Name"},model:{value:e.clientData.projectTitle,callback:function(t){e.$set(e.clientData,"projectTitle",t)},expression:"clientData.projectTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Description",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"Description"},model:{value:e.clientData.description,callback:function(t){e.$set(e.clientData,"description",t)},expression:"clientData.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Time Zone",prop:"timeZone"}},[a("el-select",{attrs:{placeholder:"Time Zone"},model:{value:e.clientData.timeZone,callback:function(t){e.$set(e.clientData,"timeZone",t)},expression:"clientData.timeZone"}},e._l(e.timezone_options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Audit Period",prop:"date"}},[a("el-date-picker",{attrs:{"value-format":"yyyyMMddHHmmss",type:"datetime",placeholder:"start time","default-time":"00:00:00"},model:{value:e.clientData.date[0],callback:function(t){e.$set(e.clientData.date,0,t)},expression:"clientData.date[0]"}}),e._v(" "),a("span",{staticClass:"date_span"},[e._v("to")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyyMMddHHmmss",type:"datetime",placeholder:"end time","default-time":"23:59:59"},model:{value:e.clientData.date[1],callback:function(t){e.$set(e.clientData.date,1,t)},expression:"clientData.date[1]"}})],1),e._v(" "),a("hr"),e._v(" "),a("h3",[e._v("Users List")]),e._v(" "),a("el-table",{staticClass:"table_color",attrs:{data:e.clientData.accessList}},[a("el-table-column",{attrs:{prop:"userName",label:"Email",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"Level of Access",prop:"level",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:e.clientData.accessList[t.$index].level,callback:function(a){e.$set(e.clientData.accessList[t.$index],"level",a)},expression:"clientData.accessList[scope.$index].level"}},[a("el-option",{attrs:{label:"Owner",value:"owner"}}),e._v(" "),a("el-option",{attrs:{label:"Team Member",value:"teamMember"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Operation",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(a){e.isDelete(t.$index,t.row)}}}),e._v(" "),a("el-dialog",{attrs:{title:"Delete User",visible:e.editDeleteDialogVisible,"append-to-body":!0,width:"30%"},on:{"update:visible":function(t){e.editDeleteDialogVisible=t}}},[a("span",[e._v("Are you sure to")]),e._v(" "),a("span",[e._v("delete\n                "),a("span",[e._v(e._s(e.user_username))]),e._v(" ？\n              ")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDeleteDialogVisible=!1}}},[e._v("Cancel")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(a){e.deleteUser(t.$index,e.clientData.accessList)}}},[e._v("Delete")])],1)])]}}])})],1),e._v(" "),a("div",[a("el-button",{staticClass:"user_addBtn",attrs:{type:"primary",size:"mini"},on:{click:function(t){e.editDialogVisible=!0}}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-dialog",{attrs:{title:"Add A New User",visible:e.editDialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("el-form",{attrs:{model:e.addUserData}},[a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addUserData.userName,callback:function(t){e.$set(e.addUserData,"userName",t)},expression:"addUserData.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Level of Access"}},[a("el-select",{model:{value:e.addUserData.level,callback:function(t){e.$set(e.addUserData,"level",t)},expression:"addUserData.level"}},[a("el-option",{attrs:{label:"Owner",value:"owner"}}),e._v(" "),a("el-option",{attrs:{label:"Team Member",value:"teamMember"}})],1)],1),e._v(" "),a("div",{staticClass:"warning_message"},[e._v(e._s(e.user_message))]),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticClass:"consist_black",attrs:{size:"mini"},on:{click:function(t){e.handleClose()}}},[e._v("Cancel")]),e._v(" "),a("el-button",{staticClass:"consist_white",attrs:{size:"mini",type:"primary"},on:{click:function(t){e.addUser()}}},[e._v("Add")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"warning_message"},[e._v(e._s(e.prop_message))]),e._v(" "),a("div",{staticClass:"create_btn"},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.Edit_Client("EditClientForm")}}},[e._v("Save")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.returnHome()}}},[e._v("Return")])],1)],1)],1)],1)])},staticRenderFns:[]};var E=a("VU/8")(z,V,!1,function(e){a("QwPP")},null,null).exports,P={data:function(){return{addDialogVisible:!1,deleteDialogVisible:!1,editDialogVisible:!1,tableData:[],client_search:"",project_title:"",client_name:"",client_options:[],addAddressData:{address:"",currency:"",multi_signature:!1,m:0,n:0,ownership:"",public_key:""},editAddressData:{address:"",currency:"",multi_signature:!1,m:0,n:0,ownership:""},add_message:"",edit_message:"",record_data:[],edit_ownership:"",value_xrp:""}},mounted:function(){if(""===u.readToken()&&this.getUserName(),""===u.readUserName())return u.deleteUserName(),u.deleteToken(),void this.$router.push({name:"user"});""===this.client_search&&(this.client_name="",this.project_title=""),this.clientView(),this.currencyView(),this.ownershipView()},methods:{getUserName:function(){J.sendRequest("get","/cryptotool/user/current/get").then(function(e){e&&"0"===e.code&&u.saveUserName(e.data.userName)})},clientView:function(){var e=this;J.sendRequest("post","/cryptotool/user/clients/view").then(function(t){if(t)if("0"===t.code&&null!=t.data.clientList)for(var a=0;a<t.data.clientList.length;a++){var s={};s.value=a,s.label=t.data.clientList[a].clientName,s.projecName=t.data.clientList[a].project_title,e.client_options.push(s)}else e.$message.warning("service exceptional，please contract with manager!")})},currencyView:function(){var e=this;J.sendRequest("get","/cryptotool/info/curreny/view").then(function(t){t&&("0"===t.code?(e.currency_option=t.data.currencies,e.addAddressData.currency=e.currency_option[0]):e.$message.warning("service exceptional，please contract with manager!"))})},ownershipView:function(){var e=this;J.sendRequest("get","/cryptotool/info/ownership/view").then(function(t){t&&("0"===t.code?e.ownership_option=t.data.ownerships:e.$message.warning("service exceptional，please contract with manager!"))})},addressView:function(){var e=this;J.sendRequest("post","/cryptotool/address/view",h()({clientName:e.client_name,projectTitle:e.project_title})).then(function(t){t&&("0"===t.code?(e.tableData=t.data.addresslist,console.log(e.tableData)):"10001"===t.code||"10005"===t.code?e.$message.warning("no data"):e.$message.warning(t.msg))})},currentSel:function(e){this.tableData=[],this.project_title=this.client_options[e].projecName,this.client_name=this.client_options[e].label,this.addressView(),this.addressLogView()},currencySel:function(e){console.log(e),console.log(void 0===e?"undefined":x()(e)),this.value_xrp=e},handleClose:function(){this.add_message="",this.edit_message="",this.addDialogVisible=!1,this.editDialogVisible=!1,this.addAddressData.address="",this.addAddressData.currency=this.currency_option[0],this.addAddressData.multi_signature=!1,this.addAddressData.m="",this.addAddressData.n="",this.addAddressData.ownership="",this.addAddressData.public_key="",this.editAddressData.multi_signature=!1,this.editAddressData.m="",this.editAddressData.n="",this.editAddressData.ownership=this.edit_ownership},addAddress:function(){if(""!=this.addAddressData.address&&""!=this.addAddressData.ownership)if("Ripple(XRP)"!==this.value_xrp||""!=this.addAddressData.public_key)if(1!=this.addAddressData.multi_signature||0!=this.addAddressData.m&&0!=this.addAddressData.n){if(1==this.addAddressData.multi_signature){this.addAddressData.m=parseFloat(this.addAddressData.m),this.addAddressData.n=parseFloat(this.addAddressData.n);var e=/^[1-9]\d*$/;if(!e.test(this.addAddressData.m)||!e.test(this.addAddressData.n))return void(this.add_message="M/N must be a positive integer!");if(e.test(this.addAddressData.m)&&e.test(this.addAddressData.n)){if(this.addAddressData.m>this.addAddressData.n)return void(this.add_message="M must be less than N!");if(this.addAddressData.n>16)return void(this.add_message="N must be not greater than 16!")}}0==this.addAddressData.multi_signature&&(this.addAddressData.m="",this.addAddressData.n="");var t=this;J.sendRequest("post","/cryptotool/address/add",h()({clientName:t.client_name,projectTitle:t.project_title,AddressInfo:{address:t.addAddressData.address,currency:t.addAddressData.currency,ownership:t.addAddressData.ownership,multi_signature:t.addAddressData.multi_signature,public_key:this.addAddressData.public_key,m:parseInt(t.addAddressData.m),n:parseInt(t.addAddressData.n)}})).then(function(e){e&&("0"===e.code?(t.$message.success(e.msg),t.handleClose(),t.addressView()):"20013"===e.code?t.add_message="the address has existed":t.add_message=e.msg)}),t.addressLogView()}else this.add_message="Information cannot be empty!";else this.add_message="Information cannot be empty!";else this.add_message="Information cannot be empty!"},deleteAddress:function(e,t){var a=this;J.sendRequest("post","/cryptotool/address/delete",h()({clientName:a.client_name,projectTitle:a.project_title,address:t,currency:e})).then(function(e){e&&("0"===e.code?(a.$message.success(e.msg),a.addressView()):a.$message.warning(e.msg))}),a.deleteDialogVisible=!1,a.addressLogView()},editAddress:function(e,t){this.edit_ownership=t.ownership,this.editDialogVisible=!0,this.editAddressData=t},saveEdit:function(){if(""!=this.editAddressData.address&&""!=this.editAddressData.currency&&""!=this.editAddressData.ownership)if(1!=this.editAddressData.multi_signature||""!=this.editAddressData.m&&""!=this.editAddressData.n)if(this.editAddressData.n>16)this.edit_message="N must be not greater than 16!";else{if(1==this.editAddressData.multi_signature){this.editAddressData.m=parseFloat(this.editAddressData.m),this.editAddressData.n=parseFloat(this.editAddressData.n);var e=/^[1-9]\d*$/;if(!e.test(this.editAddressData.m)||!e.test(this.editAddressData.n))return void(this.edit_message="M/N must be a positive integer!");if(e.test(this.editAddressData.m)&&e.test(this.editAddressData.n)&&this.editAddressData.m>this.editAddressData.n)return void(this.edit_message="M must be less than N!")}0==this.editAddressData.multi_signature&&(this.editAddressData.m="",this.editAddressData.n="");var t=this;J.sendRequest("post","/cryptotool/address/edit",h()({clientName:t.client_name,projectTitle:t.project_title,addressInfo:{address:t.editAddressData.address,currency:t.editAddressData.currency,ownership:t.editAddressData.ownership,multi_signature:t.editAddressData.multi_signature,m:parseInt(t.editAddressData.m),n:parseInt(t.editAddressData.n)}})).then(function(e){e&&("0"===e.code?(t.$message.success(e.msg),t.handleClose(),t.addressView(),t.editDialogVisible=!1):t.edit_message=e.msg)}),t.addressLogView()}else this.edit_message="Information cannot be empty!";else this.edit_message="Information cannot be empty!"},uploadAddress:function(e){var t=e.file,a=new FormData;a.append("file",t),a.append("clientName",this.client_name),a.append("projectTitle",this.project_title);var s=this;J.UploadRequest("post","/cryptotool/address/upload",a).then(function(e){e&&("0"===e.code?s.$message.success(e.msg):s.$message.warning(e.msg),s.$refs.upload.clearFiles(),s.addressLogView(),s.addressView())})},downExcel:function(){var e=this;J.DownloadRequest("get","/cryptotool/address/template/download",null,null,"Inventory List.xlsx").then(function(t){t&&e.$message.warning(t.msg)}),e.addressLogView()},addressLogView:function(){var e=this;J.sendRequest("post","/cryptotool/log/address/view",h()({clientName:e.client_name,projectTitle:e.project_title})).then(function(t){if(t)if("0"===t.code)if(e.record_data=t.data,null!=e.record_data){e.record_length=e.record_data.length;for(var a=0;a<e.record_length;a++)e.year=e.record_data[a].date.slice(0,4),e.month=e.record_data[a].date.slice(4,6),e.day=e.record_data[a].date.slice(6,8),e.hour=e.record_data[a].date.slice(8,10),e.miniter=e.record_data[a].date.slice(10,12),e.seconds=e.record_data[a].date.slice(12,14),e.record_data[a].date=e.year+"-"+e.month+"-"+e.day+" "+e.hour+":"+e.miniter+":"+e.seconds}else e.record_length=0;else e.$message.warning(t.msg)})}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"management_content"},[a("div",{staticClass:"management_list_content"},[a("div",{staticClass:"management_top_search"},[a("div",[a("span",{staticStyle:{color:"rgb(64, 64, 65)"}},[e._v("Client Name:")]),e._v(" "),a("el-select",{attrs:{placeholder:"No Client Selected"},on:{change:e.currentSel},model:{value:e.client_search,callback:function(t){e.client_search=t},expression:"client_search"}},e._l(e.client_options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),""!==this.project_title?a("span",{staticClass:"project_content"},[e._v("Project:")]):e._e(),e._v(" "),a("span",[e._v(e._s(e.project_title))])],1)])]),e._v(" "),a("div",{staticClass:"address_table_content",staticStyle:{color:"rgb(64, 64, 65)"}},[a("el-table",{attrs:{data:e.tableData,id:"manager_bg"}},[a("el-table-column",{attrs:{type:"index",label:"No.",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"Status",align:"center",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return["Validated"===e.tableData[t.$index].status?a("div",{staticStyle:{width:"100%",background:"green",color:"rgb(254, 250, 245)"}},[e._v(e._s(e.tableData[t.$index].status))]):"Validation Failed"===e.tableData[t.$index].status?a("div",{staticStyle:{width:"100%",background:"rgb(163, 32, 32)",color:"rgb(254, 250, 245)"}},[e._v(e._s(e.tableData[t.$index].status))]):a("div",{staticStyle:{width:"100%","background-color":"#EB8C00",color:"rgb(254, 250, 245)"}},[e._v(e._s(e.tableData[t.$index].status))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"currency",label:"Currency",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"Public Address",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ownership",label:"Ownership",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"public_key",label:"Public Key",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"Multisig(M/N)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===e.tableData[t.$index].multi_signature?a("span",[a("span",[e._v(e._s(e.tableData[t.$index].m))]),e._v(" "),a("span",[e._v("/")]),e._v(" "),a("span",[e._v(e._s(e.tableData[t.$index].n))])]):a("span",[a("i",{staticStyle:{display:"block",margin:"auto",width:"20px",height:"1px","background-color":"rgb(64, 64, 65)"}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Operation",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{attrs:{id:"edit_address_content"}},["No Message"==e.tableData[t.$index].status?a("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-edit"},on:{click:function(a){e.editAddress(t.$index,t.row)}}}):a("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-edit",disabled:""}}),e._v(" "),a("el-dialog",{attrs:{title:"Edit Address",visible:e.editDialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("el-form",{ref:"EditAddress",attrs:{model:e.editAddressData,"label-width":"150px",align:"left"}},[a("el-form-item",{attrs:{label:"Currency"}},[a("el-select",{attrs:{disabled:""},model:{value:e.editAddressData.currency,callback:function(t){e.$set(e.editAddressData,"currency",t)},expression:"editAddressData.currency"}},e._l(e.currency_option,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Address"}},[a("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.editAddressData.address,callback:function(t){e.$set(e.editAddressData,"address",t)},expression:"editAddressData.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Ownership"}},[a("el-select",{attrs:{placeholder:"Choose ownership"},model:{value:e.editAddressData.ownership,callback:function(t){e.$set(e.editAddressData,"ownership",t)},expression:"editAddressData.ownership"}},e._l(e.ownership_option,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Multisig"}},[a("el-switch",{model:{value:e.editAddressData.multi_signature,callback:function(t){e.$set(e.editAddressData,"multi_signature",t)},expression:"editAddressData.multi_signature"}})],1),e._v(" "),!0===e.editAddressData.multi_signature?a("el-form-item",{attrs:{id:"addressEdit",label:"M/N"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"M"},model:{value:e.editAddressData.m,callback:function(t){e.$set(e.editAddressData,"m",t)},expression:"editAddressData.m"}}),e._v(" "),a("span",[e._v("/")]),e._v(" "),a("el-input",{attrs:{autocomplete:"off",placeholder:"N"},model:{value:e.editAddressData.n,callback:function(t){e.$set(e.editAddressData,"n",t)},expression:"editAddressData.n"}})],1):e._e(),e._v(" "),a("div",{staticClass:"warning_message"},[e._v(e._s(e.edit_message))]),e._v(" "),a("div",{staticClass:"add_btn_content"},[a("el-button",{staticClass:"consist_black",attrs:{size:"mini"},on:{click:function(t){e.handleClose()}}},[e._v("Cancel")]),e._v(" "),a("el-button",{staticClass:"consist_white",attrs:{size:"mini",type:"primary"},on:{click:function(t){e.saveEdit()}}},[e._v("Save")])],1)],1)],1),e._v(" "),"No Message"==e.tableData[t.$index].status?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-delete"},on:{click:function(t){e.deleteDialogVisible=!0}}}):a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-delete",disabled:""}}),e._v(" "),a("el-dialog",{attrs:{title:"Delete Address",visible:e.deleteDialogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("Are you sure to delete？")]),e._v(" "),a("br"),e._v(" "),a("span",[e._v("currency:\n                "),a("span",[e._v(e._s(t.row.currency))])]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.address))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"consist_black",on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("Cancel")]),e._v(" "),a("el-button",{staticClass:"consist_white",attrs:{type:"primary"},on:{click:function(a){e.deleteAddress(t.row.currency,t.row.address)}}},[e._v("Delete")])],1)])],1)]}}])})],1)],1),e._v(" "),""!==e.project_title?a("div",{staticClass:"management_button_content"},[a("div",{staticClass:"add_address_content"},[a("el-button",{staticClass:"consist_white",attrs:{type:"primary",size:"small",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("Add Address")]),e._v(" "),a("el-dialog",{attrs:{title:"Add Address",visible:e.addDialogVisible,"before-close":e.handleClose,align:"center"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"addNewAddress",attrs:{model:e.addAddressData,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"Currency"}},[a("el-select",{on:{change:e.currencySel},model:{value:e.addAddressData.currency,callback:function(t){e.$set(e.addAddressData,"currency",t)},expression:"addAddressData.currency"}},e._l(e.currency_option,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Address"}},[a("el-input",{staticStyle:{color:"#909399"},attrs:{placeholder:"Public Address"},model:{value:e.addAddressData.address,callback:function(t){e.$set(e.addAddressData,"address",t)},expression:"addAddressData.address"}})],1),e._v(" "),"Ripple(XRP)"===e.value_xrp?a("el-form-item",{attrs:{label:"Public Key"}},[a("el-input",{staticStyle:{color:"#909399"},attrs:{placeholder:"Public Key"},model:{value:e.addAddressData.public_key,callback:function(t){e.$set(e.addAddressData,"public_key",t)},expression:"addAddressData.public_key"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"Ownership"}},[a("el-select",{staticStyle:{color:"#909399"},attrs:{placeholder:"Choose ownership"},model:{value:e.addAddressData.ownership,callback:function(t){e.$set(e.addAddressData,"ownership",t)},expression:"addAddressData.ownership"}},e._l(e.ownership_option,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Multisig"}},[a("el-switch",{model:{value:e.addAddressData.multi_signature,callback:function(t){e.$set(e.addAddressData,"multi_signature",t)},expression:"addAddressData.multi_signature"}})],1),e._v(" "),!0===e.addAddressData.multi_signature?a("el-form-item",{attrs:{id:"addressAdd",label:"M/N"}},[a("el-input",{staticStyle:{color:"#909399"},attrs:{autocomplete:"off",placeholder:"M"},model:{value:e.addAddressData.m,callback:function(t){e.$set(e.addAddressData,"m",t)},expression:"addAddressData.m"}}),e._v(" "),a("span",[e._v("/")]),e._v(" "),a("el-input",{staticStyle:{color:"#909399"},attrs:{autocomplete:"off",placeholder:"N"},model:{value:e.addAddressData.n,callback:function(t){e.$set(e.addAddressData,"n",t)},expression:"addAddressData.n"}})],1):e._e(),e._v(" "),a("div",{staticClass:"warning_message"},[e._v(e._s(e.add_message))]),e._v(" "),a("div",{staticClass:"add_btn_content"},[a("el-button",{staticClass:"consist_black",attrs:{size:"mini"},on:{click:function(t){e.handleClose()}}},[e._v("Cancel")]),e._v(" "),a("el-button",{staticClass:"consist_white",attrs:{size:"mini",type:"primary"},on:{click:function(t){e.addAddress()}}},[e._v("Add")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"upload_address_content"},[a("el-upload",{ref:"upload",attrs:{accept:".xlsx",action:"/cryptotool/address/upload","auto-upload":!0,limit:1,"http-request":e.uploadAddress}},[a("el-button",{staticClass:"consist_white",attrs:{type:"primary",size:"small"}},[e._v("Import Addresses\n          "),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),e._v(" "),a("div",{staticClass:"download_template_content"},[a("el-button",{attrs:{type:"text",id:"down_link"},on:{click:e.downExcel}},[e._v("Download the Excel template")])],1)]):e._e(),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),""!==e.project_title&&null!=e.record_data?a("div",{staticClass:"address_log_content"},[a("hr"),e._v(" "),a("h2",[e._v("Operation Log")]),e._v(" "),a("el-table",{staticStyle:{width:"100%",color:"rgb(64, 64, 65)"},attrs:{data:e.record_data,"default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{prop:"date",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operator",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"detail",width:"800"}})],1)],1):e._e()])},staticRenderFns:[]};var R=a("VU/8")(P,F,!1,function(e){a("5IPn")},null,null).exports,Q={data:function(){return{tableData:[],client_search:"",project_title:"",client_name:"",client_options:[],selectData:[],valition_client:"",clientSel_options:[],valition_project:"",valition_clientName:"",selectIndex:[],record_data:[],generateData:!1,validatedData:!1,reportData:!1,failData:!1,changeValue:[],changeGenerate:[],changeValidated:[],changeReport:[],changeFail:[],deleteDialogVisible:!0,countAll:0,return_msg:"",messageDialogVisible:!0,downMessage:"",message_length:0}},mounted:function(){if(""===u.readToken()&&this.getUserName(),""===u.readUserName())return u.deleteUserName(),u.deleteToken(),void this.$router.push({name:"user"});""===this.client_search&&(this.client_name="",this.project_title=""),this.clientView(),this.MessageLogView()},methods:{getUserName:function(){J.sendRequest("get","/cryptotool/user/current/get").then(function(e){e&&"0"===e.code&&u.saveUserName(e.data.userName)})},clientView:function(){var e=this;J.sendRequest("post","/cryptotool/user/clients/view").then(function(t){if(t&&"0"===t.code&&null!=t.data.clientList){e.validation_length=t.data.clientList.length;for(var a=0;a<e.validation_length;a++){var s={};s.value=a,s.label=t.data.clientList[a].clientName,s.projecName=t.data.clientList[a].project_title,e.client_options.push(s)}}})},currentSel:function(e){this.generateData=!1,this.validatedData=!1,this.reportData=!1,this.failData=!1,this.tableData=[],this.project_title=this.client_options[e].projecName,this.client_name=this.client_options[e].label,this.addressView(),this.MessageLogView()},selectionChange:function(e){if(this.changeValue=e,null!=e){if(this.value_length=e.length,!0===this.generateData)for(var t=0;t<this.value_length;t++)if("No Message"!==e[t].status)return void(this.generateData=!1);if(!0===this.validatedData)for(t=0;t<this.value_length;t++)if("Not Signed"!==e[t].status)return void(this.validatedData=!1);if(!0===this.failData)for(t=0;t<this.value_length;t++)if("Not Validated"!==e[t].status)return void(this.failData=!1);if(!0===this.reportData)for(t=0;t<this.value_length;t++)if("Validated"!==e[t].status)return void(this.reportData=!1);if(this.selectData=[],null!==e){this.val_length=e.length;for(t=0;t<this.val_length;t++){var a={};a.address=e[t].address,a.currency=e[t].currency,this.selectData.push(a)}}}},generateCheck:function(e){var t=this;if(this.$refs.multipleTable.clearSelection(),!0===e){if(this.validatedData=!1,this.reportData=!1,this.failData=!1,this.table_change=[],null!==this.tableData){this.table_length=this.tableData.length;for(var a=0;a<this.table_length;a++)"No Message"===this.tableData[a].status&&this.table_change.push(this.tableData[a])}this.changeGenerate=this.table_change,this.table_change?this.table_change.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()}},validatedCheck:function(e){var t=this;if(this.$refs.multipleTable.clearSelection(),!0===e){this.generateData=!1,this.reportData=!1,this.failData=!1,this.table_change=[],this.table_length=this.tableData.length;for(var a=0;a<this.table_length;a++)"Not Signed"===this.tableData[a].status&&this.table_change.push(this.tableData[a]);this.changeValidated=this.table_change,this.table_change?this.table_change.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()}},failCheck:function(e){var t=this;if(this.$refs.multipleTable.clearSelection(),!0===e){this.reportData=!1,this.generateData=!1,this.validatedData=!1,this.table_change=[],this.table_length=this.tableData.length;for(var a=0;a<this.table_length;a++)"Not Validated"===this.tableData[a].status&&this.table_change.push(this.tableData[a]);this.changeFail=this.table_change,this.table_change?this.table_change.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()}},reportCheck:function(e){var t=this;if(this.$refs.multipleTable.clearSelection(),!0===e){this.generateData=!1,this.validatedData=!1,this.failData=!1,this.table_change=[],this.table_length=this.tableData.length;for(var a=0;a<this.table_length;a++)"Validated"===this.tableData[a].status&&this.table_change.push(this.tableData[a]);this.changeReport=this.table_change,this.table_change?this.table_change.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()}},uploadMessage:function(e){var t=e.file,a=new FormData;a.append("file",t),a.append("clientName",this.client_name),a.append("projectTitle",this.project_title);var s=this;J.UploadRequest("post","/cryptotool/message/signed/upload",a).then(function(e){e&&("0"===e.code?s.$message.success(e.msg):s.$message.warning(e.msg),s.$refs.upload.clearFiles(),s.addressView(),s.MessageLogView())})},generate_message:function(){if(this.generate_count=[],this.changeValue.length<=0)return this.$message.warning("No address selected");for(var e=0;e<this.changeValue.length;e++)"No Message"!==this.changeValue[e].status&&this.generate_count.push(this.changeValue[e]);if(this.generate_count.length==this.changeValue.length)return this.$message.warning("No address that can be generated");this.generate_count.length&&this.$message.warning("Skip re-generating messages for "+this.generate_count.length+"addresses that already have messages.");var t=this;J.sendRequest("post","/cryptotool/message/generate",h()({clientName:t.client_name,projectTitle:t.project_title,currencies:t.selectData})).then(function(e){e&&("0"===e.code?(t.$message.success(e.msg),t.addressView(),t.MessageLogView()):t.$message.warning(e.msg))})},download_message:function(){this.messageDialogVisible=!0,this.downMessage_count=[],this.downError_count=[];var e=this.changeValue.length;if(e<=0)return this.message_length=0,this.$message.warning("No address selected");for(var t=0;t<e;t++)"No Message"!==this.changeValue[t].status&&"Validated"!==this.changeValue[t].status||this.downMessage_count.push(this.changeValue[t]);this.downMessage_count.length?(this.message_length=this.downMessage_count.length,this.downMessage="Skip downloading "+this.downMessage_count.length+" addresses without messages/validated."):this.message_go()},message_go:function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),a=e.getHours(),s=e.getMinutes(),i=e.getSeconds(),l=this.client_name,n=this.project_title;l=(l=l.replace(/[\\]/g,"")).replace(/[\/]/g,""),n=(n=n.replace(/[\\]/g,"")).replace(/[\/]/g,"");var r=this;J.DownloadRequest("post","/cryptotool/message/download",h()({clientName:r.client_name,projectTitle:r.project_title,currencies:r.selectData}),null,"message_"+l+"_"+n+"_"+t+a+s+i+".xlsx").then(function(e){e&&("0"===e.code?r.$message.success(e.msg):r.$message.warning(e.msg),r.addressView(),r.MessageLogView())}),r.messageDialogVisible=!1},successFresh:function(e){return this.$refs.upload.clearFiles(),this.addressView(),this.MessageLogView(),"0"===e.code?this.$message.success(e.msg):"10001"!==e.code?"20011"===e.code?this.$message.warning("format of file has error"):void this.$message.warning(e.msg):void this.$message.warning("unexcepted service error，please contact administrator!")},verify_key:function(){this.verify_count=[];var e=this.changeValue.length;if(e<=0)return this.$message.warning("No address selected");for(var t=0;t<e;t++)"Not Validated"!==this.changeValue[t].status&&this.verify_count.push(this.changeValue[t]);var a=this.verify_count.length;if(a){if(a==this.changeValue.length)return void this.$message.warning("No verifiable address");this.$message.warning("Skip verifying "+a+" addresses that have no signed messages.")}var s=this;J.sendRequest("post","/cryptotool/message/validate",h()({clientName:s.client_name,projectTitle:s.project_title,currencies:s.selectData})).then(function(e){e&&("0"===e.code?(s.$message.success(e.msg),s.addressView(),s.MessageLogView()):s.$message.warning(e.msg))})},download_report:function(){if(this.deleteDialogVisible=!0,this.report_message=[],this.report_signed=[],this.report_verify=[],this.report_validate=[],this.changeValue.length<=0)return this.countAll=0,this.$message.warning("No addresses are selected!");for(var e=0;e<this.changeValue.length;e++)"No Message"===this.changeValue[e].status&&this.report_message.push(this.changeValue[e]),"Not Signed"===this.changeValue[e].status&&this.report_signed.push(this.changeValue[e]),"Not Validated"===this.changeValue[e].status&&this.report_validate.push(this.changeValue[e]),"Validation Failed"===this.changeValue[e].status&&this.report_verify.push(this.changeValue[e]);this.report_message.length||this.report_signed.length||this.report_verify.length||this.report_validate?(this.countAll=this.report_message.length+this.report_signed.length+this.report_verify.length+this.report_validate.length,this.return_msg=this.countAll+" addresses that are not validated successfully are also included in the report."):this.down_go()},down_go:function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),a=e.getHours(),s=e.getMinutes(),i=e.getSeconds(),l=this.client_name,n=this.project_title;l=(l=l.replace(/[\\]/g,"")).replace(/[\/]/g,""),n=(n=n.replace(/[\\]/g,"")).replace(/[\/]/g,"");var r=this;J.DownloadRequest("post","/cryptotool/message/validation/download",h()({clientName:r.client_name,projectTitle:r.project_title,currencies:r.selectData}),null,"report_"+l+"_"+n+"_"+t+a+s+i+".xlsx").then(function(e){e&&r.$message.success(e.msg),r.addressView(),r.MessageLogView()}),r.deleteDialogVisible=!1},addressView:function(){var e=this;J.sendRequest("post","/cryptotool/address/view",h()({clientName:e.client_name,projectTitle:e.project_title})).then(function(t){t&&("0"===t.code?e.tableData=t.data.addresslist:e.$message.warning(t.msg))})},MessageLogView:function(){var e=this;J.sendRequest("post","/cryptotool/log/verify/view",h()({clientName:e.client_name,projectTitle:e.project_title})).then(function(t){if(t&&"0"===t.code){if(null===t.data.loglist)return;e.record_data=t.data.loglist;for(var a=0;a<e.record_data.length;a++)e.year=e.record_data[a].date.slice(0,4),e.month=e.record_data[a].date.slice(4,6),e.day=e.record_data[a].date.slice(6,8),e.hour=e.record_data[a].date.slice(8,10),e.miniter=e.record_data[a].date.slice(10,12),e.seconds=e.record_data[a].date.slice(12,14),e.record_data[a].date=e.year+"-"+e.month+"-"+e.day+" "+e.hour+":"+e.miniter+":"+e.seconds}})},record_address:function(e){this.$router.push({name:"erroraddress",params:{id:e.id,name:this.client_name,project:this.project_title,operation:e.operation,operator:e.operator}})}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"validation_content"},[a("div",{staticClass:"validation_list_content"},[a("div",{staticClass:"validation_top_search"},[a("div",[a("span",{staticStyle:{color:"rgb(64, 64, 65)"}},[e._v("Client Name:")]),e._v(" "),a("el-select",{attrs:{placeholder:"No Client Selected"},on:{change:e.currentSel},model:{value:e.client_search,callback:function(t){e.client_search=t},expression:"client_search"}},e._l(e.client_options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),""!==this.project_title?a("span",{staticStyle:{color:"rgb(64, 64, 65)"}},[e._v("Project:")]):e._e(),e._v(" "),a("span",[e._v(e._s(e.project_title))])],1)])]),e._v(" "),a("div",{staticClass:"validation_table_content"},[a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,id:"status_bg"},on:{"selection-change":e.selectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"No.",align:"center",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"Status",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["Validated"===e.tableData[t.$index].status?a("div",{staticStyle:{width:"100%",background:"green",color:"rgb(254, 250, 245)"}},[e._v(e._s(e.tableData[t.$index].status))]):"Validation Failed"===e.tableData[t.$index].status?a("div",{staticStyle:{width:"100%",background:"rgb(163, 32, 32)",color:"rgb(254, 250, 245)"}},[e._v(e._s(e.tableData[t.$index].status))]):a("div",{staticStyle:{width:"100%","background-color":"#EB8C00",color:"rgb(254, 250, 245)"}},[e._v(e._s(e.tableData[t.$index].status))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"currency",label:"Currency",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"Public Address",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ownership",label:"Ownership",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"public_key",label:"Public Key",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"Multisig(M/N)",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===e.tableData[t.$index].multi_signature?a("span",[a("span",[e._v(e._s(e.tableData[t.$index].m))]),e._v(" "),a("span",[e._v("/")]),e._v(" "),a("span",[e._v(e._s(e.tableData[t.$index].n))])]):a("span",[a("i",{staticStyle:{display:"block",margin:"auto",width:"20px",height:"1px","background-color":"rgb(64, 64, 65)"}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"message",label:"Message",width:"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"message",label:"Message Expiry Date",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"signed_message",label:"Signed-Message",width:"220",align:"center"}})],1)],1),e._v(" "),""!==e.project_title?a("div",{staticClass:"validation_button_content",staticStyle:{"padding-left":"13px"}},[a("div",{staticClass:"message_button_content"},[a("div",{staticStyle:{float:"left","padding-right":"25px",width:"200px"}},[a("el-checkbox",{attrs:{name:"type"},on:{change:e.generateCheck},model:{value:e.generateData,callback:function(t){e.generateData=t},expression:"generateData"}},[e._v("Address No Message")])],1),e._v(" "),a("div",[a("el-button",{staticClass:"consist_white",attrs:{type:"primary",size:"mini"},on:{click:e.generate_message}},[e._v("Generate Message")])],1)]),e._v(" "),a("div",{staticClass:"signmessage_button_content"},[a("div",{staticStyle:{float:"left","padding-right":"10px",width:"200px"}},[a("el-checkbox",{attrs:{name:"type"},on:{change:e.validatedCheck},model:{value:e.validatedData,callback:function(t){e.validatedData=t},expression:"validatedData"}},[e._v("Address Not Signed")])],1),e._v(" "),a("div",{staticStyle:{float:"left","padding-right":"10px"}},[a("el-button",{staticClass:"consist_white",attrs:{type:"primary",size:"mini"},on:{click:e.download_message}},[e._v("Download Message")])],1),e._v(" "),a("div",{staticStyle:{float:"left","padding-right":"10px"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{accept:".xlsx",action:"/cryptotool/message/signed/upload","auto-upload":!0,limit:1,"show-file-list":!1,"on-success":e.successFresh,"http-request":e.uploadMessage}},[a("el-button",{staticClass:"consist_white",attrs:{type:"primary",size:"mini"}},[e._v("Upload Signed Message")])],1)],1),e._v(" "),e.message_length>0?a("div",{staticClass:"upload_go"},[a("el-dialog",{attrs:{visible:e.messageDialogVisible},on:{"update:visible":function(t){e.messageDialogVisible=t}}},[a("span",[e._v(e._s(e.downMessage))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"consist_black",on:{click:function(t){e.messageDialogVisible=!1}}},[e._v("Cancel")]),e._v(" "),a("el-button",{staticClass:"consist_white",attrs:{type:"primary"},on:{click:function(t){e.message_go()}}},[e._v("Download")])],1)])],1):e._e()]),e._v(" "),a("div",{staticClass:"fail_button_content"},[a("div",{staticStyle:{float:"left","padding-right":"14px",width:"200px"}},[a("el-checkbox",{attrs:{name:"type"},on:{change:e.failCheck},model:{value:e.failData,callback:function(t){e.failData=t},expression:"failData"}},[e._v("Address Not Validated")])],1),e._v(" "),a("el-button",{staticClass:"consist_white",attrs:{type:"primary",size:"mini"},on:{click:e.verify_key}},[e._v("Verify Signed Message")])],1),e._v(" "),a("div",{staticClass:"report_button_content"},[a("div",{staticStyle:{float:"left","padding-right":"40px",width:"200px"}},[a("el-checkbox",{attrs:{name:"type"},on:{change:e.reportCheck},model:{value:e.reportData,callback:function(t){e.reportData=t},expression:"reportData"}},[e._v("Address Validated")])],1),e._v(" "),a("el-button",{staticClass:"consist_white",attrs:{type:"primary",size:"mini"},on:{click:e.download_report}},[e._v("Download Report")]),e._v(" "),e.countAll>0?a("div",{staticClass:"upload_go"},[a("el-dialog",{attrs:{visible:e.deleteDialogVisible},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v(e._s(e.return_msg))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"consist_black",on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("Cancel")]),e._v(" "),a("el-button",{staticClass:"consist_white",attrs:{type:"primary"},on:{click:function(t){e.down_go()}}},[e._v("Download")])],1)])],1):e._e()],1)]):e._e(),e._v(" "),a("br"),a("br"),e._v(" "),""!==e.project_title&&null!=e.record_data?a("div",{staticClass:"message_log_content"},[a("hr"),e._v(" "),a("h2",[e._v("Operation Log")]),e._v(" "),a("el-table",{staticStyle:{width:"100%",color:"rgb(64, 64, 65)"},attrs:{data:e.record_data,"default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{prop:"date",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operator",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"detail",width:"800"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.has_link?a("div",{staticStyle:{color:"#606266"}},[e._v("\n            "+e._s(t.row.detail)+"\n\n          ")]):a("div",{staticStyle:{color:"rgb(163, 32, 32)"}},[a("el-button",{staticStyle:{"font-size":"14px","text-decoration":"underline"},attrs:{type:"text"},on:{click:function(a){e.record_address(t.row)}}},[e._v(e._s(t.row.detail))])],1)]}}])})],1)],1):e._e()])},staticRenderFns:[]};var Y=a("VU/8")(Q,O,!1,function(e){a("Ox2d")},null,null).exports,Z={data:function(){return{clientName:this.$route.params.name,projectTitle:this.$route.params.project,logId:this.$route.params.id,operation:this.$route.params.operation,operator:this.$route.params.operator,tableData:[]}},mounted:function(){if(""===u.readToken()&&this.getUserName(),""===u.readUserName())return u.deleteUserName(),u.deleteToken(),void this.$router.push({name:"user"});this.viewLogDetail()},methods:{getUserName:function(){J.sendRequest("get","/cryptotool/user/current/get").then(function(e){e&&"0"===e.code&&u.saveUserName(e.data.userName)})},error_back:function(){this.$router.go(-1)},viewLogDetail:function(){var e=this;J.sendRequest("post","/cryptotool/log/verify/detail/view",h()({clientName:e.clientName,projectTitle:e.projectTitle,logId:e.logId})).then(function(t){t&&"0"===t.code&&(e.tableData=t.data.messageOperateAddress)})}}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"address_error_content"},[a("el-button",{staticClass:"error_back",attrs:{type:"text"},on:{click:e.error_back}},[a("i",{staticClass:"el-icon-arrow-left"}),e._v(" Back to previous page")]),e._v(" "),a("div",{staticClass:"address_error_header"},[a("span",[e._v(e._s(e.operation)+" error")])]),e._v(" "),a("div",{staticClass:"address_error_info"},[a("span",[e._v("Client Name:")]),e._v(" "),a("i",[e._v(e._s(e.clientName))]),e._v(" "),a("span",[e._v("Project:")]),e._v(" "),a("i",[e._v(e._s(e.projectTitle))]),e._v(" "),a("span",[e._v("Operator:")]),e._v(" "),a("span",[e._v(e._s(e.operator))])]),e._v(" "),a("el-table",{staticClass:"error_font",staticStyle:{color:"rgb(64, 64, 65)"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"No.",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"error_detail",label:"Error Info",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"currency",label:"Currency",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"Public Address",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"Multisig(N/M)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===e.tableData[t.$index].multi_signature?a("span",[a("span",[e._v(e._s(e.tableData[t.$index].m))]),e._v(" "),a("span",[e._v("/")]),e._v(" "),a("span",[e._v(e._s(e.tableData[t.$index].n))])]):a("span",[a("i",{staticStyle:{display:"block",margin:"auto",width:"20px",height:"1px","background-color":"rgb(64, 64, 65)"}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"message",label:"Message",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"signed_message",label:"Signed-Message",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"Address Status",align:"center"}})],1)],1)},staticRenderFns:[]};var q=a("VU/8")(Z,H,!1,function(e){a("YwAp")},null,null).exports;s.default.use(m.a),s.default.use(g.a);var W=new m.a({routes:[{path:"/",redirect:"/cryptoaudit"},{path:"/cryptoaudit",redirect:"/cryptoaudit/home"},{path:"/cryptoaudit/user",name:"user",component:f},{path:"/cryptoaudit/forgot_password",name:"forgot_password",component:w},{path:"/cryptoaudit/home",name:"home",component:T,redirect:"/cryptoaudit/home/introduction",children:[{path:"introduction",name:"introduction",component:k},{path:"clientlist",name:"clientlist",component:S},{path:"createclient",name:"createclient",component:I},{path:"editclient",name:"editclient",component:E},{path:"address/manage",name:"manageaddress",component:R},{path:"address/validate",name:"validateaddress",component:Y},{path:"address/error",name:"erroraddress",component:q}]}]}),B=a("Av7u"),J={sendRequest:function(e,t,a,s){var i=B.HmacSHA256(a,"pwc"),n=B.enc.Base64.stringify(i),r=this,c={method:e,url:t,headers:l()({"Content-Type":"application/json","X-Token":u.readToken(),"X-Frame-Options":"deny",hmac:n},s)};return"post"===e||"patch"===e?c.data=a:c.params=a,o(c).then(function(e){if(e.status&&200===e.status&&void 0!==e.data.code)return"10003"===e.data.code||"10006"===e.data.code?(u.deleteUserName(),u.deleteToken(),W.replace({name:"user"}),void r.$message.warning(e.data.msg)):e.data;e.status&&200!==e.status&&r.$message.error("("+error.response.status+") unexcepted service error，please contact administrator!")}).catch(function(e){})},UploadRequest:function(e,t,a,s){var i=B.HmacSHA256(a,"pwc"),n=B.enc.Base64.stringify(i),r=this,c={method:e,url:t,headers:l()({"Content-Type":"multipart/form-data","X-Token":u.readToken(),"X-Frame-Options":"deny",hmac:n},s),data:a};return o(c).then(function(e){if(e.status&&200===e.status&&void 0!==e.data.code)return"10003"===e.data.code||"10006"===e.data.code?(r.$router.push({name:"user"}),r.$message.warning(e.data.msg),u.deleteUserName(),void u.deleteToken()):e.data;e.status&&200!==e.status&&r.$message.error("("+error.response.status+") unexcepted service error，please contact administrator!")}).catch(function(e){})},DownloadRequest:function(e,t,a,s,i){var n=B.HmacSHA256(a,"pwc"),r=B.enc.Base64.stringify(n),c=this,d={method:e,url:t,headers:l()({"Content-Type":"multipart/form-data","X-Token":u.readToken(),"X-Frame-Options":"deny",hmac:r},s),data:a,responseType:"blob"};return o(d).then(function(e){if(e.status&&200===e.status)if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.data.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet; charset=UTF-8"===e.data.type){var t=new Blob([e.data]);if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(t,i);else{var a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download=i,document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s)},1e3),c.MessageLogView()}}else"application/json"===e.data.type?c.$message.warning("download error!"):c.$message.error("("+error.response.status+") unexcepted service error，please contact administrator!");else if(e.status&&200!==e.status)return void c.$message.error("("+error.response.status+") unexcepted service error，please contact administrator!")}).catch(function(e){})}},G={name:"App",data:function(){return{userName:u.readUserName()}},created:function(){return""===u.readToken()?(u.deleteUserName(),void this.$router.push({name:"user"})):""===u.readUserName()?(this.getUserName(),void this.$router.push({name:"user"})):void 0},mounted:function(){this.userName=u.readUserName()},methods:{loginOut:function(){var e=this;J.sendRequest("post","/cryptotool/user/logout").then(function(t){t&&("0"===t.code?e.$message.success(t.msg):e.$message.warning(t.msg),u.deleteUserName(),u.deleteToken(),e.$router.push({name:"user"}))})},getUserName:function(){J.sendRequest("get","/cryptotool/user/current/get").then(function(e){e&&"0"===e.code&&u.saveUserName(e.data.userName)})},guideOut:function(){this.$router.push({name:"home"})},copyMsg:function(){this.$router.push({name:"home"})}},watch:{$route:function(e,t){"/cryptoaudit/user"===e.path&&(u.deleteUserName(),u.deleteToken())}}},X={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"topBar"},[s("div",{staticClass:"container"},[s("div",{staticClass:"topBarLeft"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:a("a8CO"),alt:"logo_s"}})]),e._v(" "),s("span",[e._v("|  PwC Crypto Audit Tool")])],1),e._v(" "),null!=this.$store.readUserName()?s("div",{staticClass:"topBarRight"},[s("div",{staticClass:"rightFont",staticStyle:{"line-height":"40px"}},[s("el-button",{staticStyle:{"text-decoration":"underline",color:"#404041",float:"right"},attrs:{type:"text"},on:{click:e.loginOut}},[e._v("Log out")]),e._v(" "),s("span",{staticStyle:{float:"right"}},[e._v("|")]),e._v(" "),s("router-link",{attrs:{to:"/cryptoaudit/home"}},[s("el-button",{staticStyle:{"text-decoration":"underline",color:"#404041",float:"right"},attrs:{type:"text"}},[e._v("Help")])],1)],1),e._v(" "),s("div",{staticClass:"rightFont"},[e._v(" Welcome, "+e._s(this.$store.readUserName()))])]):e._e()])]),e._v(" "),s("router-view"),e._v(" "),e._m(0)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer"},[t("br"),this._v(" "),t("footer",{staticClass:"copyright"},[this._v("\n      © 2017 - 2018 PwC. All rights reserved. \n    ")])])}]};var K=a("VU/8")(G,X,!1,function(e){a("RnFU")},null,null).exports,ee=a("zL8q"),te=a.n(ee),ae=a("wUZ8"),se=a.n(ae);s.default.use(c.a),s.default.use(te.a,{locale:se.a}),s.default.prototype.getConfigJson=function(){this.$http.get("config.json").then(function(e){s.default.prototype.ApiUrl=e.body.ApiUrl}).catch(function(e){console.log(e)})},s.default.config.productionTip=!1,new s.default({el:"#app",router:W,store:u,components:{App:K},template:"<App/>"})},Ox2d:function(e,t){},QwPP:function(e,t){},RnFU:function(e,t){},Xcu2:function(e,t){},YwAp:function(e,t){},ZyFl:function(e,t){},a8CO:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSI3MHB4IiBoZWlnaHQ9IjUzcHgiIHZpZXdCb3g9IjAgMCA3MCA1MyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNzAgNTM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNFMzczMUM7fQ0KCS5zdDF7ZmlsbDojRTY2OUEyO30NCgkuc3Qye2ZpbGw6I0YzQkM4Nzt9DQoJLnN0M3tmaWxsOiNFRTlDMzQ7fQ0KCS5zdDR7ZmlsbDojRjNCRTI2O30NCgkuc3Q1e2ZpbGw6I0RCNEUxODt9DQoJLnN0NntmaWxsOiNFODhDMTQ7fQ0KCS5zdDd7ZmlsbDojRDEzOTBEO30NCgkuc3Q4e2ZpbGw6I0Q4NTYwNDt9DQoJLnN0OXtmaWxsOiNDMjIzMDM7fQ0KCS5zdDEwe2ZpbGw6I0MxNDMwMzt9DQoJLnN0MTF7ZmlsbDojQUQxQjAyO30NCjwvc3R5bGU+DQo8Zz4NCgk8cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjY2LjI0LDE2LjQ3NCA2Ni4yNCw2LjkyMyA1OS43MzksNi45MjMgNTkuNzM5LDMuMDQ5IDU3LjIxOCwzLjA0OSA1Ny4yMTgsMC41NjMgNDQuNDAyLDAuNTYzIA0KCQk0NC40MDIsMy4wNDkgNDQuNDAyLDYuOTIzIDQ0LjQwMiwxMy4yODUgNDQuNDAyLDE2LjQ3NCA0NC40MDIsMjIuODM4IDUyLjQxNywyMi44MzggNTcuMjE4LDIyLjgzOCA1OS43MzksMjIuODM4IDY2LjI0LDIyLjgzOCANCgkJNjkuNSwyMi44MzggNjkuNSwxNi40NzQgCSIvPg0KCTxnPg0KCQk8Zz4NCgkJCTxwYXRoIGQ9Ik00Ny4yMjEsMzQuODI1Yy0yLjIyMSwwLjM1NS0zLjM1NiwxLjk4LTMuMzU2LDQuODM5YzAsMi44NzcsMS41MTIsNC44MDEsMy44MzEsNC44MDFjMS4wNzksMCwyLjA1OS0wLjM1NSw0LjEyLTEuMzU2DQoJCQkJdjIuMzI3Yy0yLjQ3MywxLjEyNC0zLjkyOSwxLjQ3MS01LjkyMSwxLjQ3MWMtMi4xNTcsMC0zLjY3NS0wLjU2Ny00LjkxNC0xLjgxOWMtMS4yNy0xLjI1OS0xLjkwNi0yLjkyMS0xLjkwNi00Ljc3Mg0KCQkJCWMwLTQuMTE4LDMuMDc3LTYuOTA0LDcuNTczLTYuOTA0YzIuOTg2LDAsNS4wMzksMS4zNTEsNS4wMzksMy4zMzVjMCwxLjI3OC0wLjk1NiwyLjE1Ny0yLjM3NCwyLjE1Nw0KCQkJCWMtMC43MjgsMC0xLjMyNi0wLjE4OS0yLjA5MS0wLjYyOVYzNC44MjV6Ii8+DQoJCQk8cGF0aCBkPSJNMzYuMjYzLDQwLjMxN2MxLjk5MS0yLjQ4NiwyLjY5NC0zLjQ4OSwyLjY5NC00LjcxYzAtMS4yMTUtMC45NzQtMi4xOTQtMi4yNzUtMi4xOTRjLTAuODAyLDAtMS41MjMsMC4zNzUtMS44NzUsMC43NjUNCgkJCQl2NS4wNjRsLTMuMjYyLDQuMzA2di05LjgxNmgtMy4xMDJsLTUuMTU2LDguNDY3di04LjQ2N2gtMS43ODJsLTQuNjgxLDEuMTN2MS4xODVsMi41NTMsMC4yNTd2MTAuMzg0aDMuM2w0Ljk0NS04LjA1djguMDVoMy42MTQNCgkJCQlMMzYuMjYzLDQwLjMxN3oiLz4NCgkJCTxwYXRoIGQ9Ik02Ljk2OCw0NS4wODljMC4zNTEsMC4wMTYsMC41MDUsMC4wMTYsMC43MjcsMC4wMTZjMi42NTgsMCw0LjA4My0xLjY0Miw0LjA4My00Ljc4OGMwLTIuNjY0LTEuMTY2LTQuMDgxLTMuMzE4LTQuMDgxDQoJCQkJYy0wLjM1OCwwLTAuNzM0LDAuMDQzLTEuNDkzLDAuMTM0VjQ1LjA4OXogTTYuOTY4LDUwLjc2M2wyLjE0LDAuNDcxbDAsMS4yMDNIMC43MTN2LTEuMjAzbDEuOTEzLTAuNDcxVjM2LjIzN0gwLjV2LTEuMjQ2DQoJCQkJbDUuMTM2LTEuNTQ1aDEuMzMzdjEuNzM1YzIuNDA1LTEuNDE3LDMuMjMxLTEuNjY4LDQuNDY1LTEuNjY4YzIuODQ5LDAsNC45NTIsMi42MDMsNC45NTIsNi4yMDdjMCw0LjE2Ni0yLjgwNiw2Ljk2OS03LjIyNyw2Ljk2OQ0KCQkJCWMtMC41LDAtMS4zMzItMC4wMy0yLjE5LTAuMTI4VjUwLjc2M3oiLz4NCgkJPC9nPg0KCQk8Zz4NCgkJCTxyZWN0IHg9IjY2LjI0IiB5PSIxNi40NzQiIGNsYXNzPSJzdDEiIHdpZHRoPSIzLjI2IiBoZWlnaHQ9IjYuMzY0Ii8+DQoJCQk8cmVjdCB4PSI1Ny4yMTgiIHk9IjMuMDQ5IiBjbGFzcz0ic3QyIiB3aWR0aD0iMi41MjEiIGhlaWdodD0iMy44NzUiLz4NCgkJCTxyZWN0IHg9IjQ0LjQwMiIgeT0iMC41NjMiIGNsYXNzPSJzdDMiIHdpZHRoPSIxMi44MTYiIGhlaWdodD0iMi40ODYiLz4NCgkJCTxyZWN0IHg9IjQ0LjQwMiIgeT0iMy4wNDkiIGNsYXNzPSJzdDAiIHdpZHRoPSIxMi44MTYiIGhlaWdodD0iMy44NzUiLz4NCgkJCTxyZWN0IHg9IjU5LjczOSIgeT0iNi45MjMiIGNsYXNzPSJzdDQiIHdpZHRoPSI2LjUiIGhlaWdodD0iOS41NTEiLz4NCgkJCTxyZWN0IHg9IjU5LjczOSIgeT0iMTYuNDc0IiBjbGFzcz0ic3Q1IiB3aWR0aD0iNi41IiBoZWlnaHQ9IjYuMzY0Ii8+DQoJCQk8cmVjdCB4PSI1Ny4yMTgiIHk9IjYuOTIzIiBjbGFzcz0ic3Q2IiB3aWR0aD0iMi41MjEiIGhlaWdodD0iOS41NTEiLz4NCgkJCTxyZWN0IHg9IjU3LjIxOCIgeT0iMTYuNDc0IiBjbGFzcz0ic3Q3IiB3aWR0aD0iMi41MjEiIGhlaWdodD0iNi4zNjQiLz4NCgkJCTxwb2x5Z29uIGNsYXNzPSJzdDgiIHBvaW50cz0iNTIuNDE3LDE2LjQ3NCA1Ny4yMTgsMTYuNDc0IDU3LjIxOCw2LjkyMyA0NC40MDIsNi45MjMgNDQuNDAyLDEzLjI4NSA1Mi40MTcsMTMuMjg1IAkJCSIvPg0KCQkJPHJlY3QgeD0iNTIuNDE3IiB5PSIxNi40NzQiIGNsYXNzPSJzdDkiIHdpZHRoPSI0LjgwMSIgaGVpZ2h0PSI2LjM2NCIvPg0KCQkJPHJlY3QgeD0iNDQuNDAyIiB5PSIxMy4yODUiIGNsYXNzPSJzdDEwIiB3aWR0aD0iOC4wMTUiIGhlaWdodD0iMy4xODkiLz4NCgkJCTxyZWN0IHg9IjQ0LjQwMiIgeT0iMTYuNDc0IiBjbGFzcz0ic3QxMSIgd2lkdGg9IjguMDE1IiBoZWlnaHQ9IjYuMzY0Ii8+DQoJCQk8cmVjdCB4PSIzMS41NTEiIHk9IjIyLjgzOCIgY2xhc3M9InN0MTEiIHdpZHRoPSIxMi44NTEiIGhlaWdodD0iMy4xODIiLz4NCgkJPC9nPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K"},d70Z:function(e,t){},jXWE:function(e,t){}},[0]);
//# sourceMappingURL=app.e0e77a132b7c2335e469.js.map